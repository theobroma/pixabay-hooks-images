(this["webpackJsonppixabay-hooks-images"]=this["webpackJsonppixabay-hooks-images"]||[]).push([[0],{122:function(t,e,a){},124:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),c=a(15),o=(a(92),a(19)),i=a(68),s=a(155),u=a(156),l=a(157),d=a(145),p=a(154),b=a(21),j=a(40),f=a(144),h=a(160),g=a(161),O=a(146),m=a(147),x=a(80),y=a(12),v=a(74),k=a.n(v),w=a(158),C=a(46),L=a(18),I=a.n(L),R=a(23),S=a(11),W=a(69),P="21006895-bfaaa89652a3d7d5175478097",N=a.n(W).a.create({baseURL:"https://pixabay.com/api"}),T=function(t,e){return N.get("/?key=".concat(P,"&q=").concat(t,"&image_type=photo&orientation=horizontal&per_page=12&page=").concat(e))};function U(t){return new Promise((function(e){setTimeout((function(){e("")}),t)}))}var D=Object(S.b)("pictures/picturesTC",function(){var t=Object(R.a)(I.a.mark((function t(e,a){var n;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.dispatch(_(!0)),t.prev=1,t.next=4,U(1e3);case 4:return t.next=6,T(e.pictureSearch,e.page);case 6:return n=t.sent,t.abrupt("return",{data:n.data});case 10:return t.prev=10,t.t0=t.catch(1),t.abrupt("return",a.rejectWithValue(t.t0.response.data));case 13:return t.prev=13,a.dispatch(_(!1)),t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[1,10,13,16]])})));return function(e,a){return t.apply(this,arguments)}}()),A=Object(S.c)({name:"pictures",initialState:{data:{total:0,totalHits:0,hits:[]},loading:!1,page:1,pictureSearch:"nature",largeImageURL:"",tags:""},reducers:{setLoading:function(t,e){t.loading=e.payload},incrementPage:function(t){t.page+=1},setPictureSearch:function(t,e){t.data.hits=[],t.page=1,t.pictureSearch=e.payload},setImageData:function(t,e){t.largeImageURL=e.payload.largeImageURL,t.tags=e.payload.tags},clearImageData:function(t){t.largeImageURL="",t.tags=""}},extraReducers:function(t){t.addCase(D.fulfilled,(function(t,e){var a;e.payload&&(t.data.total=e.payload.data.total,t.data.totalHits=e.payload.data.totalHits,(a=t.data.hits).push.apply(a,Object(C.a)(e.payload.data.hits)))}))}}),E=A.reducer,M=A.actions,_=M.setLoading,F=M.incrementPage,q=M.setPictureSearch,z=M.setImageData,B=M.clearImageData,H=a(3),V=Object(f.a)((function(t){return Object(j.a)({},Object(h.a)({search:Object(b.a)({position:"relative",borderRadius:t.shape.borderRadius,backgroundColor:Object(y.b)(t.palette.common.white,.15),"&:hover":{backgroundColor:Object(y.b)(t.palette.common.white,.25)},marginRight:t.spacing(2),marginLeft:0,width:"100%"},t.breakpoints.up("sm"),{marginLeft:t.spacing(3),width:"auto"}),searchIcon:{padding:t.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(b.a)({padding:t.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(t.spacing(4),"px)"),transition:t.transitions.create("width"),width:"100%"},t.breakpoints.up("md"),{width:"20ch"})}))})),J=function(){var t=V(),e=Object(o.b)(),a=r.a.useState(""),n=Object(x.a)(a,2),c=n[0],i=n[1];return Object(H.jsxs)("div",{className:t.search,children:[Object(H.jsx)("div",{className:t.searchIcon,children:Object(H.jsx)(k.a,{})}),Object(H.jsx)("form",{className:"App",onSubmit:function(t){t.preventDefault(),e(q(c))},children:Object(H.jsx)(w.a,{placeholder:"Search\u2026",classes:{root:t.inputRoot,input:t.inputInput},inputProps:{"aria-label":"search"},value:c,onChange:function(t){return i(t.target.value)}})})]})},G=Object(f.a)((function(t){return Object(j.a)({},Object(h.a)({grow:{flexGrow:1},menuButton:{marginRight:t.spacing(2)},title:Object(b.a)({display:"none"},t.breakpoints.up("sm"),{display:"block"}),sectionDesktop:Object(b.a)({display:"none"},t.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(b.a)({display:"flex"},t.breakpoints.up("md"),{display:"none"})}))})),K=function(){var t=G();return Object(H.jsx)("div",{className:t.grow,children:Object(H.jsx)(g.a,{position:"static",children:Object(H.jsx)(d.a,{maxWidth:"lg",children:Object(H.jsxs)(O.a,{children:[Object(H.jsx)(m.a,{className:t.title,variant:"h6",noWrap:!0,children:"Pixabay Images"}),Object(H.jsx)(J,{}),Object(H.jsx)("div",{className:t.grow})]})})})})},Q=a(75),Z=a(148),X=a(149),Y=a(150),$=a(151),tt=a(152),et=a(76),at=a.n(et),nt=function(t){return t.pictures},rt=Object(f.a)((function(t){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:t.palette.background.paper},gridList:{width:"auto",height:"auto",transform:"translateZ(0)"},titleBar:{background:"linear-gradient(to bottom, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)"},icon:{color:"white"}}})),ct=function(){var t=Object(o.b)(),e=Object(o.c)(nt).data.hits,a=rt(),n=Object(Q.a)(),r=Object(Z.a)(n.breakpoints.only("xl")),c=Object(Z.a)(n.breakpoints.only("lg")),i=Object(Z.a)(n.breakpoints.only("md")),s=Object(Z.a)(n.breakpoints.only("sm"));Object(Z.a)(n.breakpoints.only("xs")),Object(Z.a)("(max-width:340px)");return Object(H.jsx)("div",{className:a.root,children:Object(H.jsx)(X.a,{cellHeight:260,cols:r?5:c?4:i?3:s?2:1,spacing:1,className:a.gridList,children:null===e||void 0===e?void 0:e.map((function(e){return Object(H.jsxs)(Y.a,{cols:1,rows:1,children:[Object(H.jsx)("img",{role:"presentation",src:e.webformatURL,alt:e.tags,onClick:function(){t(z({largeImageURL:e.largeImageURL,tags:e.tags}))}}),Object(H.jsx)($.a,{title:e.tags,titlePosition:"top",actionIcon:Object(H.jsx)(tt.a,{"aria-label":"star title",className:a.icon,children:Object(H.jsx)(at.a,{})}),actionPosition:"left",className:a.titleBar})]},e.id)}))})})},ot=a(51),it=a.n(ot),st=document.querySelector("#modal-root"),ut=function(t){var e=t.onClose,a=t.children;Object(n.useEffect)((function(){return window.addEventListener("keydown",r),function(){return window.removeEventListener("keydown",r)}}));var r=function(t){"Escape"===t.code&&e()};return Object(c.createPortal)(Object(H.jsx)("div",{className:it.a.Overlay,onClick:function(t){t.currentTarget===t.target&&e()},onKeyPress:function(t){"Escape"===t.code&&e()},role:"button",tabIndex:0,children:Object(H.jsx)("div",{className:it.a.Modal,children:a})}),st)},lt=a(159),dt=a(153),pt=Object(f.a)((function(t){return{backdrop:{zIndex:t.zIndex.drawer+1,color:"#fff"}}})),bt=function(){var t=pt();return Object(H.jsx)(lt.a,{className:t.backdrop,open:!0,children:Object(H.jsx)(dt.a,{color:"inherit"})})},jt=function(){var t=Object(o.b)(),e=Object(o.c)(nt),a=e.loading,r=e.page,c=e.pictureSearch,i=e.largeImageURL,s=e.tags;Object(n.useEffect)((function(){t(D({pictureSearch:c,page:r}))}),[t,c,r]);return Object(H.jsxs)("div",{className:"App",children:[Object(H.jsx)(l.a,{mb:2,children:Object(H.jsx)(K,{})}),Object(H.jsxs)(d.a,{maxWidth:"lg",children:[a&&Object(H.jsx)(bt,{}),Object(H.jsx)(ct,{}),Object(H.jsx)(l.a,{my:3,textAlign:"center",children:Object(H.jsx)(p.a,{variant:"contained",color:"primary",onClick:function(){t(F())},children:"Load more"})})]}),i&&Object(H.jsxs)(ut,{onClose:function(){t(B())},children:["123",Object(H.jsx)("img",{src:i,alt:s})]})]})},ft=a(77),ht=a(22),gt=a(78),Ot=a.n(gt),mt=a(9),xt=function(t,e,a){return N.get("/forecast.json?key=".concat(P,"&q=").concat(e,",").concat(a,"&days=").concat(t))},yt=Object(S.b)("forecast/getForecast",function(){var t=Object(R.a)(I.a.mark((function t(e,a){var n;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,xt(e.days,e.lat,e.lon);case 3:return n=t.sent,t.abrupt("return",{forecastday:n.data.forecast.forecastday});case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",a.rejectWithValue(t.t0.response.data));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,a){return t.apply(this,arguments)}}()),vt=Object(S.c)({name:"forecast",initialState:{forecastday:[]},reducers:{},extraReducers:function(t){t.addCase(yt.fulfilled,(function(t,e){e.payload&&(t.forecastday=e.payload.forecastday)}))}}).reducer,kt=function(t,e){return N.get("/current.json?key=".concat(P,"&q=").concat(t,",").concat(e))},wt=(Object(S.b)("currentWeather/getUserCoordinatesTC",(function(t,e){navigator.geolocation.getCurrentPosition((function(t){e.dispatch(Rt({lat:t.coords.latitude,lon:t.coords.longitude}))}))})),Object(S.b)("currentWeather/getCurrentWeather",function(){var t=Object(R.a)(I.a.mark((function t(e,a){var n;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,kt(e.lat,e.lon);case 3:return n=t.sent,a.dispatch(St(n.data.location)),t.abrupt("return",{currentWeather:n.data.current});case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return",a.rejectWithValue(t.t0.response.data));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,a){return t.apply(this,arguments)}}())),Ct=Object(S.c)({name:"currentWeather",initialState:{lat:0,lon:0,location:{},currentWeather:{}},reducers:{userCoordinatesAC:function(t,e){t.lat=e.payload.lat,t.lon=e.payload.lon},setLocationAC:function(t,e){t.location=e.payload}},extraReducers:function(t){t.addCase(wt.fulfilled,(function(t,e){e.payload&&(t.currentWeather=e.payload.currentWeather)}))}}),Lt=Ct.reducer,It=Ct.actions,Rt=It.userCoordinatesAC,St=It.setLocationAC,Wt=function(t){return N.get("/search.json?key=".concat(P,"&q=").concat(t))},Pt=Object(S.b)("search/searchTC",function(){var t=Object(R.a)(I.a.mark((function t(e,a){var n;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Wt(e);case 3:return n=t.sent,t.abrupt("return",{data:n.data});case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",a.rejectWithValue(t.t0.response.data));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,a){return t.apply(this,arguments)}}()),Nt=Object(S.c)({name:"search",initialState:{data:[]},reducers:{clearData:function(t){t.data=[]}},extraReducers:function(t){t.addCase(Pt.fulfilled,(function(t,e){e.payload&&(t.data=e.payload.data)}))}}),Tt=Nt.reducer,Ut=(Nt.actions.clearData,Object(mt.c)({currentWeather:Lt,forecast:vt,pictures:E,search:Tt})),Dt=Object(ft.createLogger)({collapsed:!0}),At={key:"root",storage:Ot.a,whitelist:["filter"]},Et=Object(ht.g)(At,Ut),Mt=[].concat(Object(C.a)(Object(S.d)({thunk:!0,serializableCheck:{ignoredActions:[ht.a,ht.f,ht.b,ht.c,ht.d,ht.e]}})),[Dt]),_t=Object(S.a)({reducer:Et,middleware:Mt,devTools:!0}),Ft=Object(ht.h)(_t),qt=a(79),zt=Object(qt.a)({typography:{fontFamily:'"Open Sans", sans-serif',fontSize:14},palette:{primary:{light:"#757ce8",main:"#3f50b5",dark:"#002884",contrastText:"#fff"},secondary:{light:"#ff7961",main:"#f44336",dark:"#ba000d",contrastText:"#000"}}}),Bt=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,163)).then((function(e){var a=e.getCLS,n=e.getFID,r=e.getFCP,c=e.getLCP,o=e.getTTFB;a(t),n(t),r(t),c(t),o(t)}))},Ht=(a(122),a(123),document.getElementById("root"));Object(c.render)(Object(H.jsx)(r.a.StrictMode,{children:Object(H.jsx)(o.a,{store:_t,children:Object(H.jsx)(i.a,{loading:Object(H.jsx)(bt,{}),persistor:Ft,children:Object(H.jsxs)(s.a,{theme:zt,children:[Object(H.jsx)(u.a,{}),Object(H.jsx)(jt,{})]})})})}),Ht),Bt()},51:function(t,e,a){t.exports={Overlay:"Modal_Overlay__sFvQM",Modal:"Modal_Modal__1830P"}},92:function(t,e,a){}},[[124,1,2]]]);
//# sourceMappingURL=main.9d9ac479.chunk.js.map